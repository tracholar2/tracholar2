
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>公共，私人和保护之间有什么区别？ | 智子</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="zhizi">
    

    
    <meta name="description" content="何时以及为什么要在类中使用public，private和protected函数和变量？他们有什么区别？ 示例： // Public public $variable; public function doSomething() {   // ... }  // Private private $variable; private function doSomething() {   // ...">
<meta name="keywords" content="php">
<meta property="og:type" content="article">
<meta property="og:title" content="公共，私人和保护之间有什么区别？">
<meta property="og:url" content="https://www.tracholar.top/2018/01/22/what-is-the-difference-between-public-private-and-protected/index.html">
<meta property="og:site_name" content="智子">
<meta property="og:description" content="何时以及为什么要在类中使用public，private和protected函数和变量？他们有什么区别？ 示例： // Public public $variable; public function doSomething() {   // ... }  // Private private $variable; private function doSomething() {   // ...">
<meta property="og:image" content="https://www.tracholar.top/2018/01/22/what-is-the-difference-between-public-private-and-protected/“https://i.stack.imgur.com/SFysv.jpg”alt">
<meta property="og:updated_time" content="2018-01-15T04:09:28.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="公共，私人和保护之间有什么区别？">
<meta name="twitter:description" content="何时以及为什么要在类中使用public，private和protected函数和变量？他们有什么区别？ 示例： // Public public $variable; public function doSomething() {   // ... }  // Private private $variable; private function doSomething() {   // ...">
<meta name="twitter:image" content="https://www.tracholar.top/2018/01/22/what-is-the-difference-between-public-private-and-protected/“https://i.stack.imgur.com/SFysv.jpg”alt">

    
    <link rel="alternative" href="/atom.xml" title="智子" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">

    <!-- ad start -->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6300557868920774",
    enable_page_level_ads: true
  });
</script>

    <!-- ad end -->

    <!--  stat -->
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?4036f580b1119e720db871571faa68cc";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-78529611-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-78529611-1');
</script>

    <!-- end stat -->
</head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="智子">智子</a></h1>
				<h2 class="blog-motto">智子之家</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:www.tracholar.top">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody">
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/01/22/what-is-the-difference-between-public-private-and-protected/" title="公共，私人和保护之间有什么区别？" itemprop="url">公共，私人和保护之间有什么区别？</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="zhizi" target="_blank" itemprop="author">zhizi</a>
		
  <p class="article-time">
    <time datetime="2018-01-22T00:59:11.000Z" itemprop="datePublished"> Published 2018-01-22</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">1.</span> <span class="toc-text">Public:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">2.</span> <span class="toc-text">Protected:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">3.</span> <span class="toc-text">Private:</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number"></span> <span class="toc-text">Dissecting the Grandpa Class using</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">1.</span> <span class="toc-text">Well, what is reflection?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">2.</span> <span class="toc-text">Preamble</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">3.</span> <span class="toc-text">The code</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number"></span> <span class="toc-text">Common Misconceptions:</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">1.</span> <span class="toc-text">Debugging functions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">2.</span> <span class="toc-text">More resources:</span></a></li></ol>
		
		</div>
		

        <ins class="adsbygoogle"
     style="display:block; text-align:center; overflow:hidden;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6300557868920774"
     data-ad-slot="6882414849"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>


		<p>何时以及为什么要在类中使用<code>public</code>，<code>private</code>和<code>protected</code>函数和变量？他们有什么区别？</p>
<p>示例：</p>
<pre><code>// Public
public $variable;
public function doSomething() {
  // ...
}

// Private
private $variable;
private function doSomething() {
  // ...
}

// Protected
protected $variable;
protected function doSomething() {
  // ...
}
</code></pre><a id="more"></a>
<p>您使用：</p>
<p>当您希望您的变量/函数仅在其自己的类中可见时，</p>
<p><code>private</code>作用域。</p>
<p>当你想让你的变量/函数在扩展包括父类的当前类的所有类中都可见时，保护`范围。</p>
<p><strong>更多：</strong> （全面信息）</p>
<ul>
<li><a href="http://php.net/manual/en/language.oop5.visibility.php" target="_blank" rel="noopener"> http://php.net/manual/en/language.oop5。 visibility.php </a></li>
</ul>
<p><img src="“https://i.stack.imgur.com/SFysv.jpg”alt" alt=""></p>
<h2><span id="public">Public:</span></h2><p>当你声明一个方法（函数）或一个属性（变量）为<code>public</code>时，可以通过以下方式访问这些方法和属性：</p>
<ul>
<li>声明它的同一个类。</li>
<li>继承上面声明的类的类。</li>
<li>这个类以外的任何外部元素也可以访问这些东西。</li>
</ul>
<p>**示例：</p>
<pre><code>&lt;?php

class GrandPa
{
    public $name=&apos;Mark Henry&apos;;  // A public variable
}

class Daddy extends GrandPa // Inherited class
{
    function displayGrandPaName()
    {
        return $this-&gt;name; // The public variable will be available to the inherited class
    }

}

// Inherited class Daddy wants to know Grandpas Name
$daddy = new Daddy;
echo $daddy-&gt;displayGrandPaName(); // Prints &apos;Mark Henry&apos;

// Public variables can also be accessed outside of the class!
$outsiderWantstoKnowGrandpasName = new GrandPa;
echo $outsiderWantstoKnowGrandpasName-&gt;name; // Prints &apos;Mark Henry&apos;
</code></pre><hr>
<h2><span id="protected">Protected:</span></h2><p>当您将方法（函数）或属性（变量）声明为<code>protected</code>时，可以访问这些方法和属性</p>
<ul>
<li>声明它的同一个类。</li>
<li>继承上面声明的类的类。</li>
</ul>
<p>局外人成员不能访问这些变量。 “局外人”是指他们不是 <strong>声明类本身的对象实例。</strong></p>
<p>**示例：</p>
<pre><code>&lt;?php

class GrandPa
{
    protected $name = &apos;Mark Henry&apos;;
}

class Daddy extends GrandPa
{
    function displayGrandPaName()
    {
        return $this-&gt;name;
    }

}

$daddy = new Daddy;
echo $daddy-&gt;displayGrandPaName(); // Prints &apos;Mark Henry&apos;

$outsiderWantstoKnowGrandpasName = new GrandPa;
echo $outsiderWantstoKnowGrandpasName-&gt;name; // Results in a Fatal Error
</code></pre><p>确切的错误将是：</p>
<blockquote>
<p>PHP Fatal error: Cannot access protected property GrandPa::$name</p>
</blockquote>
<hr>
<h2><span id="private">Private:</span></h2><p>当你将一个方法（函数）或一个属性（变量）声明为<code>private</code>时，这些方法和属性可以通过以下方式访问：</p>
<ul>
<li>声明它的同一个类。</li>
</ul>
<p>局外人成员不能访问这些变量。局外人的意思是他们不是 <strong>声明类本身的对象实例</strong> ，甚至是 <strong>继承声明类的类。</strong></p>
<p>**示例：</p>
<pre><code>&lt;?php

class GrandPa
{
    private $name = &apos;Mark Henry&apos;;
}

class Daddy extends GrandPa
{
    function displayGrandPaName()
    {
        return $this-&gt;name;
    }

}

$daddy = new Daddy;
echo $daddy-&gt;displayGrandPaName(); // Results in a Notice 

$outsiderWantstoKnowGrandpasName = new GrandPa;
echo $outsiderWantstoKnowGrandpasName-&gt;name; // Results in a Fatal Error
</code></pre><p>确切的错误信息将是：</p>
<blockquote>
<p>Notice: Undefined property: Daddy::$name<br> Fatal error: Cannot access private property GrandPa::$name</p>
</blockquote>
<hr>
<h1><span id="dissecting-the-grandpa-class-using">Dissecting the Grandpa Class using</span></h1><p><a href="http://www.php.net/manual/en/intro.reflection.php" target="_blank" rel="noopener"><strong>Reflection</strong></a></p>
<p>这个问题并没有超出范围，我只是为了证明反思是非常强大的。正如我在上面的三个例子中所说的，<code>protected</code>和<code>private</code>成员（属性和方法）不能在类之外访问。</p>
<p>然而，通过反射，甚至可以访问 <strong><code>protected</code> </strong> 和 <strong><code>private</code>来执行 <em>extra-ordinary</em> &gt; </strong><br>以外的成员！</p>
<h2><span id="well-what-is-reflection">Well, what is reflection?</span></h2><blockquote>
<p>Reflection adds the ability to reverse-engineer classes, interfaces,<br>functions, methods and extensions. Additionally, they offers ways to retrieve<br>doc comments for functions, classes and methods.</p>
</blockquote>
<h2><span id="preamble">Preamble</span></h2><p>我们有一个名为<code>Grandpas</code>的类，并说我们有三个属性。为了便于理解，可以考虑有三个名字为：</p>
<ul>
<li>Mark Henry </li>
<li>John Clash </li>
<li>琼斯将会</li>
</ul>
<p>让我们分别让它们（分配修饰符）<code>public</code>，<code>protected</code>和<code>private</code>。您非常清楚<code>protected</code>和<code>private</code>成员不能在类之外访问。现在让我们使用反射来反驳这个陈述。</p>
<h2><span id="the-code">The code</span></h2><pre><code>&lt;?php

class GrandPas   // The Grandfather&apos;s class
{
    public     $name1 = &apos;Mark Henry&apos;;  // This grandpa is mapped to a public modifier
    protected  $name2 = &apos;John Clash&apos;;  // This grandpa is mapped to a protected  modifier
    private    $name3 = &apos;Will Jones&apos;;  // This grandpa is mapped to a private modifier
}


# Scenario 1: without reflection
$granpaWithoutReflection = new GrandPas;

# Normal looping to print all the members of this class
echo &quot;#Scenario 1: Without reflection&lt;br&gt;&quot;;
echo &quot;Printing members the usual way.. (without reflection)&lt;br&gt;&quot;;
foreach($granpaWithoutReflection as $k=&gt;$v)
{
    echo &quot;The name of grandpa is $v and he resides in the variable $k&lt;br&gt;&quot;;
}

echo &quot;&lt;br&gt;&quot;;

#Scenario 2: Using reflection

$granpa = new ReflectionClass(&apos;GrandPas&apos;); // Pass the Grandpas class as the input for the Reflection class
$granpaNames=$granpa-&gt;getDefaultProperties(); // Gets all the properties of the Grandpas class (Even though it is a protected or private)


echo &quot;#Scenario 2: With reflection&lt;br&gt;&quot;;
echo &quot;Printing members the &apos;reflect&apos; way..&lt;br&gt;&quot;;

foreach($granpaNames as $k=&gt;$v)
{
    echo &quot;The name of grandpa is $v and he resides in the variable $k&lt;br&gt;&quot;;
}
</code></pre><p>&lt;强&gt;输出：</p>
<pre><code>#Scenario 1: Without reflection
Printing members the usual way.. (Without reflection)
The name of grandpa is Mark Henry and he resides in the variable name1

#Scenario 2: With reflection
Printing members the &apos;reflect&apos; way..
The name of grandpa is Mark Henry and he resides in the variable name1
The name of grandpa is John Clash and he resides in the variable name2
The name of grandpa is Will Jones and he resides in the variable name3
</code></pre><hr>
<h1><span id="common-misconceptions">Common Misconceptions:</span></h1><p>请不要混淆下面的例子。正如您仍然可以看到的那样，<code>private</code>和<code>protected</code>成员无法在不使用反射的情况下访问 <strong>outside</strong><br>外</p>
<pre><code>&lt;?php

class GrandPas   // The Grandfather&apos;s class
{
    public     $name1 = &apos;Mark Henry&apos;;  // This grandpa is mapped to a public modifier
    protected  $name2 = &apos;John Clash&apos;;  // This grandpa is mapped to a protected modifier
    private    $name3 = &apos;Will Jones&apos;;  // This grandpa is mapped to a private modifier
}

$granpaWithoutReflections = new GrandPas;
print_r($granpaWithoutReflections);
</code></pre><p>&lt;强&gt;输出：</p>
<pre><code>GrandPas Object
(
    [name1] =&gt; Mark Henry
    [name2:protected] =&gt; John Clash
    [name3:GrandPas:private] =&gt; Will Jones
)
</code></pre><h2><span id="debugging-functions">Debugging functions</span></h2><p><code>print_r</code>，<code>var_export</code>和<code>var_dump</code><a href="“http://in2.php.net/manual/en/function">调试器功能</a>。他们以可读的形式呈现有关变量的信息。这三个函数将显示PHP<br>5对象的<code>protected</code>和<code>private</code>属性。静态类成员将不会显示。</p>
<hr>
<h2><span id="more-resources">More resources:</span></h2><ul>
<li><a href="http://www.php.net/manual/en/language.oop5.properties.php" target="_blank" rel="noopener"> PHP手册 - OOP属性</a></li>
<li><a href="http://www.php.net/manual/en/language.oop5.visibility.php" target="_blank" rel="noopener"> PHP手册 - OOP可见性</a></li>
<li><a href="http://www.techflirt.com/tutorials/oop-in-php/visibility-in-php-classes.html" target="_blank" rel="noopener"> Techflirt.com - PHP类中的可见性</a> &lt; / LI&gt; </li>
<li><a href="http://jordizle.com/lab/98/public-private-protected-in-php-5" target="_blank" rel="noopener"> Jordizle.com - 公开，私人，受保护的PHP 5 </a> &lt; / LI&gt; </li>
<li><a href="http://www.tuxradar.com/practicalphp/6/7/1" target="_blank" rel="noopener"> Tuxradar.com - 公共，私人和受保护的</a></li>
</ul>
<hr>


        <p style="margin-top:2em; text-align:left; font-weight:bold; font-style: italic;">未经作者同意，本文严禁转载，违者必究！</p>
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/php/">php</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://www.tracholar.top/2018/01/22/what-is-the-difference-between-public-private-and-protected/" data-title="公共，私人和保护之间有什么区别？ | 智子" data-tsina="" class="share clearfix">
	  </div>
	
	</div>


</footer>


	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2018/01/22/two-submit-buttons-in-one-form/" title="两种提交按钮的一种形式">
  <strong>上一篇：</strong><br/>
  <span>
  两种提交按钮的一种形式</span>
</a>
</div>


<div class="next">
<a href="/2018/01/21/saving-android-activity-state-using-save-instance-state/"  title="使用保存实例状态保存Android活动状态">
 <strong>下一篇：</strong><br/> 
 <span>使用保存实例状态保存Android活动状态
</span>
</a>
</div>

</nav>

	



</div>

      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">1.</span> <span class="toc-text">Public:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">2.</span> <span class="toc-text">Protected:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">3.</span> <span class="toc-text">Private:</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number"></span> <span class="toc-text">Dissecting the Grandpa Class using</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">1.</span> <span class="toc-text">Well, what is reflection?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">2.</span> <span class="toc-text">Preamble</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">3.</span> <span class="toc-text">The code</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number"></span> <span class="toc-text">Common Misconceptions:</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">1.</span> <span class="toc-text">Debugging functions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">2.</span> <span class="toc-text">More resources:</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- side-bar-ad -->
<ins class="adsbygoogle"
     style="display:block; overflow:hidden;"
     data-ad-client="ca-pub-6300557868920774"
     data-ad-slot="2232545787"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


  


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/javascript/" title="javascript">javascript<sup>207</sup></a></li>
			
		
			
				<li><a href="/tags/java/" title="java">java<sup>205</sup></a></li>
			
		
			
				<li><a href="/tags/html/" title="html">html<sup>203</sup></a></li>
			
		
			
				<li><a href="/tags/python/" title="python">python<sup>201</sup></a></li>
			
		
			
				<li><a href="/tags/c-sharp/" title="c-sharp">c-sharp<sup>200</sup></a></li>
			
		
			
				<li><a href="/tags/bash/" title="bash">bash<sup>199</sup></a></li>
			
		
			
				<li><a href="/tags/php/" title="php">php<sup>197</sup></a></li>
			
		
			
				<li><a href="/tags/css/" title="css">css<sup>88</sup></a></li>
			
		
			
				<li><a href="/tags/dot-net/" title="dot-net">dot-net<sup>85</sup></a></li>
			
		
			
				<li><a href="/tags/shell/" title="shell">shell<sup>78</sup></a></li>
			
		
			
				<li><a href="/tags/jquery/" title="jquery">jquery<sup>61</sup></a></li>
			
		
			
				<li><a href="/tags/linux/" title="linux">linux<sup>57</sup></a></li>
			
		
			
				<li><a href="/tags/unix/" title="unix">unix<sup>30</sup></a></li>
			
		
			
				<li><a href="/tags/mysql/" title="mysql">mysql<sup>17</sup></a></li>
			
		
			
				<li><a href="/tags/html5/" title="html5">html5<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/xml/" title="xml">xml<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/http/" title="http">http<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/区块链/" title="区块链">区块链<sup>1</sup></a></li>
			
		
			
		
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://tracholar.github.io" target="_blank" title="个人博客">个人博客</a>
            
          </li>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>

    </div>
    <footer><div id="footer" >
	
	
	<section class="info">
		<p> To be or not to be, that is a question. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		版权所有 © 2018 本站文章未经同意，禁止转载！作者：
		
		<a href="/about" target="_blank" title="zhizi">zhizi</a>
		


		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>











<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
